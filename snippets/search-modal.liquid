{%- comment -%}Desktop Search Modal{%- endcomment -%}
<search-modal class="header__search">
  <div class="searchform" role="dialog" aria-modal="true" aria-label="{{ 'general.search.placeholder' | t }}">
    <div class="container">
      <div class="search-modal__content" tabindex="-1">
        {%- if section.settings.search_type == 'predictive' -%}
        <predictive-search class="search-modal__form">
        {%- endif -%}
          <div class="search-form d-flex w-100">
            <form action="{{ routes.search_url }}" method="get" role="search" class="search search-modal__form">
              {%- capture searchType -%}{%- if section.settings.enable_search_product -%}product,{%- endif -%}{%- if section.settings.enable_search_article -%}article,{%- endif -%}{%- if section.settings.enable_search_page -%}page{%- endif -%}{%- endcapture -%}
              <label class="visually-hidden-skip" for="Search-In-Modal">Search</label>
              <input class="form-control border-bottom border-0 border-gray-800 rounded-0" id="Search-In-Modal" type="search" name="q" 
                value="{{ search.terms | escape }}" aria-label="{{ 'general.search.placeholder' | t }}" title="{{ 'general.search.placeholder' | t }}" placeholder="{{ 'general.search.placeholder' | t }}">
              <input type="hidden" name="type" value="{{ searchType }}">
              <button class=" field__button " aria-label="{{ 'general.search.placeholder' | t }}"><span class="icon-search"></span></button>
            </form>
            <button type="button" class="search-modal__close-button modal__close-button " aria-label="{{ 'accessibility.close' | t }}">
              <span class="icon-close"></span>
            </button>
          </div>
          {%- if section.settings.search_type == 'predictive' -%}
          <div class="predictive-search predictive-search--header" tabindex="-1" data-predictive-search>
            <div class="predictive-search__loading-state">
              <svg aria-hidden="true" focusable="false" role="presentation" class="spinner-border" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
              </svg>
            </div>
          </div>
          {%- endif -%}
        {%- if section.settings.search_type == 'predictive' -%}
        </predictive-search>
        {%- endif -%}
      </div>
    </div>
  </div>
</search-modal>
